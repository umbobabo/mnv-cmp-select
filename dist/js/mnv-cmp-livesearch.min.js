function ecSelect(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="mnv-ec-select";return m=s+"-",this.init=function(a){return a.list instanceof Array==!1?(j("list should be an array"),!1):0===a.list.length?(j("list shouldn't be empty"),!1):void 0===a.searchProperty?(j("Provide a searchProperty"),!1):void 0===a.searchProperty?(j("Provide a searchProperty"),!1):(h=document.querySelectorAll("."+s),0===h.length?(j("Unable to find a widget with class "+s),!1):(void 0===a.caseInsensitive&&(a.caseInsensitive=!0),h=h[0],k=a.list,l=a.searchProperty,i=a.hideOnLeave||!1,b=document.createElement("input"),b.className=m+"input",b.setAttribute("placeholder",a.placeholder),p=document.createElement("button"),p.className=m+"reset search",p.innerText="",c=document.createElement("ul"),c.className=m+"list",c.style.display="block",h.appendChild(b),h.appendChild(p),h.appendChild(c),void g()))},d=function(d){var g,i;if(j("Starting search"),c.style.display="block",c.innerHTML="",""===d.trim())g=[];else{var m=new RegExp(d,a.caseInsensitive?"i":null);g=k.filter(function(a){return a[l].match(m)})}0===g.length?c.innerHTML="<li>No results</li>":(i=[],g.map(function(a){var d=document.createElement("li");d.innerHTML=a[l],d.addEventListener("click",function(){b.value=a[l],e.call(h,"resultSelected",a),f(!1)}),c.appendChild(d)}))},e=function(a,b){function c(a,b){var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,!0,!0,b),c}var d;if(window.CustomEvent)try{d=new CustomEvent(a,{detail:b})}catch(e){d=c(a,b)}else d=c(a,b);j("triggered: "+a+" with data : "+b),this.dispatchEvent(d)},j=function(a){window.console&&window.console.log&&console.log(a)},f=function(a){a===!0&&r(),c.innerHTML="",c.style.display="none"},q=function(a,b){return a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)},r=function(){b.value="",p.className=m+"reset search",e.call(h,"fieldReset")},g=function(){b.addEventListener("keyup",function(){var a=this.value.trim();q(p,"search")&&(p.className=m+"reset close"),clearTimeout(n),n=window.setTimeout(function(){d(a)},500)}),b.addEventListener("focus",function(){r()}),i&&c.addEventListener("mouseleave",function(){clearTimeout(o),o=window.setTimeout(function(){f()},1e3)}),p.addEventListener("click",function(){q(this,"search")?b.focus():f(!0)})},a?void this.init(a):(j("You have to provide a config object"),!1)}var ecSelectConfig={config:{bundle:{assets:{version:"testLiveSearch001",host:"cdn.static-economist.com"},data:{version:"testLiveSearch001","url[THIS-OVERWRITE-HOST-IN-JSON-JSONP-BUNDLE]":"http://YOUR-JSON-URL",host:"localhost:3000/projects/ec-livesearch","host[PRODUCTION-RENAME-TO-HOST]":"cdn.static-economist.com",provider:"None"}}},minerva:{name:"Minerva",ns:{js:"ecSelect",css:"ec-livesearch",folder:"ec-livesearch"},description:"Set of tools used by The Economist Front End Team",version:"0.1.0",debugMode:!0,"private":!0,homepage:"https://github.com/the-economist-editorial/minerva",author:{name:"Umberto Babini",email:"umbertobabini@economist.com"},devDependencies:{bower:"~1.2.7",express:"^4.10.6","express-handlebars":"^1.1.0","express-logger":"0.0.3",grunt:"~0.4.1","grunt-browser-sync":"^1.5.3","grunt-cli":"^0.1.13","grunt-contrib-concat":"~0.3.0","grunt-contrib-jasmine":"0.5.1","grunt-contrib-jshint":"0.6.4","grunt-contrib-uglify":"~0.2.4","grunt-contrib-watch":"^0.6.1","grunt-githooks":"~0.2.0","grunt-handlebars-compiler":"0.0.7","grunt-ngmin":"0.0.3","grunt-sass":"0.6.0","grunt-shell":"~0.5.0","grunt-usemin":"~0.1.12",url:"^0.10.1","yeoman-generator":"^0.18.4","grunt-criticalcss":"^0.5.0"},engines:{node:">=0.8.0"}}};